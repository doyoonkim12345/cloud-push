"use strict";(self.webpackChunk_cloud_push_docs=self.webpackChunk_cloud_push_docs||[]).push([["875"],{2201:function(e,n,s){s.r(n),s.d(n,{default:()=>c});var d=s(651),t=s(6971);function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",code:"code",h2:"h2",pre:"pre",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",hr:"hr",blockquote:"blockquote",details:"details",summary:"summary"},(0,t.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.h1,{id:"expoupdates",children:["ExpoUpdates",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#expoupdates",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["cloud-push is ",(0,d.jsx)(n.strong,{children:"compatible"})," with ",(0,d.jsx)(n.a,{href:"https://docs.expo.dev/technical-specs/expo-updates-1/",target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(n.code,{children:"expo-updates"})})," and supports the following settings."]}),"\n",(0,d.jsxs)(n.h2,{id:"install",children:["install",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"pnpm expo install expo-updates\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"-expo-updates-sdk-compatibility",children:["\uD83D\uDCD8 Expo Updates SDK Compatibility",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-expo-updates-sdk-compatibility",children:"#"})]}),"\n",(0,d.jsxs)(n.h3,{id:"-constants",children:["\uD83E\uDDF1 Constants",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-constants",children:"#"})]}),"\n",(0,d.jsxs)(n.table,{children:["\n",(0,d.jsxs)(n.thead,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.th,{children:"Constant"}),"\n",(0,d.jsx)(n.th,{children:"Supported"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.tbody,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.channel"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.checkAutomatically"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.createdAt"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.emergencyLaunchReason"})}),"\n",(0,d.jsx)(n.td,{children:"⏳"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.isEmbeddedLaunch"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.isEmergencyLaunch"})}),"\n",(0,d.jsx)(n.td,{children:"⏳"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.isEnabled"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.latestContext"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.launchDuration"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.manifest"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.runtimeVersion"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Updates.updateId"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"-hooks",children:["\uD83E\uDDE9 Hooks",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-hooks",children:"#"})]}),"\n",(0,d.jsxs)(n.table,{children:["\n",(0,d.jsxs)(n.thead,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.th,{children:"Hook"}),"\n",(0,d.jsx)(n.th,{children:"Supported"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.tbody,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"useUpdates()"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"-methods",children:["\uD83D\uDEE0 Methods",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-methods",children:"#"})]}),"\n",(0,d.jsxs)(n.table,{children:["\n",(0,d.jsxs)(n.thead,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.th,{children:"Method"}),"\n",(0,d.jsx)(n.th,{children:"Supported"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.tbody,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"checkForUpdateAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"clearLogEntriesAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fetchUpdateAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getExtraParamsAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"readLogEntriesAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"reloadAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"✅"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setExtraParamAsync()"})}),"\n",(0,d.jsx)(n.td,{children:"❌"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"appjson--appconfigts",children:["app.json / app.config.ts",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appjson--appconfigts",children:"#"})]}),"\n",(0,d.jsxs)(n.p,{children:["Most options in ",(0,d.jsx)(n.a,{href:"https://docs.expo.dev/versions/latest/config/app/#updates",target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(n.code,{children:"app.json or app.config.ts updates"})})," are supported."]}),"\n",(0,d.jsxs)(n.h3,{id:"-supported-settings",children:["✅ Supported settings",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-supported-settings",children:"#"})]}),"\n",(0,d.jsxs)(n.table,{children:["\n",(0,d.jsxs)(n.thead,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.th,{children:"Option"}),"\n",(0,d.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.tbody,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enabled"})}),"\n",(0,d.jsx)(n.td,{children:"Whether to enable the update system"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"checkAutomatically"})}),"\n",(0,d.jsx)(n.td,{children:"How to check for updates at app start"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"useEmbeddedUpdate"})}),"\n",(0,d.jsx)(n.td,{children:"Whether to use embedded updates"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fallbackToCacheTimeout"})}),"\n",(0,d.jsx)(n.td,{children:"Update response wait time (ms)"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"url"})}),"\n",(0,d.jsx)(n.td,{children:"Remote URL for the update manifest"}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"requestHeaders"})}),"\n",(0,d.jsx)(n.td,{children:"Custom headers to include in requests"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["These settings work ",(0,d.jsx)(n.strong,{children:"properly"})," in the Expo SDK and guarantee predictable behavior in both JS and native builds."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"️-unsupported-or-uncertain-settings",children:["⚠️ Unsupported or uncertain settings",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#️-unsupported-or-uncertain-settings",children:"#"})]}),"\n",(0,d.jsxs)(n.table,{children:["\n",(0,d.jsxs)(n.thead,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.th,{children:"Option"}),"\n",(0,d.jsx)(n.th,{children:"Supported"}),"\n",(0,d.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.tbody,{children:["\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"codeSigningCertificate"})}),"\n",(0,d.jsx)(n.td,{children:"❌ Not supported"}),"\n",(0,d.jsx)(n.td,{children:"Code signing is not yet enabled in the SDK."}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"codeSigningMetadata"})}),"\n",(0,d.jsx)(n.td,{children:"❌ Not supported"}),"\n",(0,d.jsx)(n.td,{children:"Likewise, ignored."}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"assetPatternsToBeBundled"})}),"\n",(0,d.jsx)(n.td,{children:"⚠️ Not confirmed"}),"\n",(0,d.jsx)(n.td,{children:"May not work in some environments."}),"\n"]}),"\n",(0,d.jsxs)(n.tr,{children:["\n",(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"disableAntiBrickingMeasures"})}),"\n",(0,d.jsx)(n.td,{children:"⚠️ Not confirmed"}),"\n",(0,d.jsx)(n.td,{children:"Can be set, but it's unclear if it actually applies."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["❗️ ",(0,d.jsx)(n.strong,{children:"Caution:"})," ",(0,d.jsx)(n.code,{children:"disableAntiBrickingMeasures"})," can make your app unbootable, so ",(0,d.jsx)(n.strong,{children:"do not use in production environments"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.p,{children:["If you're ",(0,d.jsx)(n.strong,{children:"not using EAS Build"}),", set the update URL and headers manually:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-diff",children:'  updates: {\n-    url: "https://u.expo.dev/"\n+    url: "https://your-server-domain/api/manifest",\n+    requestHeaders: {\n+      "expo-channel-name": process.env.APP_VARIANT,\n+    },\n  },\n'})}),"\n",(0,d.jsxs)("details",{children:[(0,d.jsx)("summary",{children:"\uD83D\uDEE0️ If you're using EAS Build"}),(0,d.jsxs)(n.p,{children:["You don't need to manually set ",(0,d.jsx)(n.code,{children:"requestHeaders"}),". Instead, configure the channel in ",(0,d.jsx)(n.code,{children:"eas.json"}),":"]}),(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "build": {\n    "production": {\n      "channel": "stable"\n    },\n    "preview": {\n      "channel": "beta"\n    }\n  }\n}\n'})}),(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:["In this example, builds triggered with the ",(0,d.jsx)(n.code,{children:"--profile preview"})," option will use the ",(0,d.jsx)(n.code,{children:"beta"})," channel, while ",(0,d.jsx)(n.code,{children:"--profile production"})," uses ",(0,d.jsx)(n.code,{children:"stable"}),"."]}),"\n"]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h3,{id:"example-settings",children:["Example settings",(0,d.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-settings",children:"#"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"updates: {\n  enabled: true,\n  checkAutomatically: 'ON_LOAD',\n  fallbackToCacheTimeout: 10000,\n  useEmbeddedUpdate: true,\n  url: 'https://my-updates.example.com',\n  requestHeaders: {\n    'x-custom-header': 'value',\n  },\n}\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(r,{...e})}):r(e)}let c=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["guide%2F3.expo%2F2.expo-updates%2Findex.mdx"]={toc:[{text:"install",id:"install",depth:2},{text:"\uD83D\uDCD8 Expo Updates SDK Compatibility",id:"-expo-updates-sdk-compatibility",depth:2},{text:"\uD83E\uDDF1 Constants",id:"-constants",depth:3},{text:"\uD83E\uDDE9 Hooks",id:"-hooks",depth:3},{text:"\uD83D\uDEE0 Methods",id:"-methods",depth:3},{text:"app.json / app.config.ts",id:"appjson--appconfigts",depth:2},{text:"✅ Supported settings",id:"-supported-settings",depth:3},{text:"⚠️ Unsupported or uncertain settings",id:"️-unsupported-or-uncertain-settings",depth:3},{text:"Example settings",id:"example-settings",depth:3}],title:"ExpoUpdates",headingTitle:"ExpoUpdates",frontmatter:{}}}}]);