"use strict";(self.webpackChunk_cloud_push_docs=self.webpackChunk_cloud_push_docs||[]).push([["684"],{6069:function(e,n,d){d.r(n),d.d(n,{default:()=>c});var r=d(651),s=d(6971);function i(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",code:"code",p:"p",br:"br",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ol:"ol",li:"li",strong:"strong",pre:"pre"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"api",children:["Api",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"})]}),"\n",(0,r.jsxs)(n.h2,{id:"apiupdatesmanifest",children:[(0,r.jsx)(n.code,{children:"/api/updates/manifest"}),(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apiupdatesmanifest",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["This API is based on the ",(0,r.jsx)(n.a,{href:"https://docs.expo.dev/technical-specs/expo-updates-1/",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(n.code,{children:"Expo Updates Protocol v1"})})," specification and describes the structure of metadata that clients send when requesting OTA updates from the server.",(0,r.jsx)(n.br,{}),"\n","Clients can send various information through ",(0,r.jsx)(n.code,{children:"Header"})," or ",(0,r.jsx)(n.code,{children:"Query Parameter"}),"."]}),"\n",(0,r.jsxs)(n.h2,{id:"-request-fields-summary",children:["\uD83D\uDCE5 Request Fields Summary",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-request-fields-summary",children:"#"})]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"Field Name"}),"\n",(0,r.jsx)(n.th,{children:"Location"}),"\n",(0,r.jsx)(n.th,{children:"Key Name"}),"\n",(0,r.jsx)(n.th,{children:"Required"}),"\n",(0,r.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runtimeVersion"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-runtime-version"})}),"\n",(0,r.jsx)(n.td,{children:"✅"}),"\n",(0,r.jsx)(n.td,{children:"App runtime version. Required."}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{}),"\n",(0,r.jsx)(n.td,{children:"Query Param"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runtime-version"})}),"\n",(0,r.jsx)(n.td,{}),"\n",(0,r.jsx)(n.td,{children:"Fallback if Header is missing"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"platform"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-platform"})}),"\n",(0,r.jsx)(n.td,{children:"✅"}),"\n",(0,r.jsxs)(n.td,{children:["Platform information (",(0,r.jsx)(n.code,{children:"ios"}),", ",(0,r.jsx)(n.code,{children:"android"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{}),"\n",(0,r.jsx)(n.td,{children:"Query Param"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"platform"})}),"\n",(0,r.jsx)(n.td,{}),"\n",(0,r.jsx)(n.td,{children:"Fallback if Header is missing"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"protocolVersion"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-protocol-version"})}),"\n",(0,r.jsx)(n.td,{children:"✅"}),"\n",(0,r.jsx)(n.td,{children:"Expo Updates protocol version (integer)"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"channel"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-channel-name"})}),"\n",(0,r.jsx)(n.td,{children:"❌"}),"\n",(0,r.jsxs)(n.td,{children:["Update channel name (e.g., ",(0,r.jsx)(n.code,{children:"development"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"embeddedUpdateId"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-embedded-update-id"})}),"\n",(0,r.jsx)(n.td,{children:"❌"}),"\n",(0,r.jsx)(n.td,{children:"Update ID embedded in the app"}),"\n"]}),"\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"currentUpdateId"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-current-update-id"})}),"\n",(0,r.jsx)(n.td,{children:"❌"}),"\n",(0,r.jsx)(n.td,{children:"Currently running update ID"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-processing-priority",children:["\uD83E\uDDEA Processing Priority",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-processing-priority",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"runtimeVersion"})," and ",(0,r.jsx)(n.code,{children:"platform"})," values are processed in the following priority:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Header values take precedence"}),": ",(0,r.jsx)(n.code,{children:"expo-runtime-version"}),", ",(0,r.jsx)(n.code,{children:"expo-platform"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"If missing"}),": Fallback to ",(0,r.jsx)(n.code,{children:"runtime-version"}),", ",(0,r.jsx)(n.code,{children:"platform"})," query parameters"]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"-example-request",children:["\uD83D\uDCE6 Example Request",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-example-request",children:"#"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/manifest?platform=android&runtime-version=1.0.0 HTTP/1.1\nHost: example.com\nexpo-platform: android\nexpo-runtime-version: 1.0.0\nexpo-protocol-version: 1\nexpo-channel-name: development\nexpo-current-update-id: 123e4567-e89b-12d3-a456-426614174000\nexpo-embedded-update-id: 123e4567-e89b-12d3-a456-426614174999\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"apiupdatesstatus",children:[(0,r.jsx)(n.code,{children:"/api/updates/status"}),(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apiupdatesstatus",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"This API checks the status of the current bundle update."}),"\n",(0,r.jsxs)(n.h2,{id:"-request-fields-summary-1",children:["\uD83D\uDCE5 Request Fields Summary",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-request-fields-summary-1",children:"#"})]}),"\n",(0,r.jsxs)(n.table,{children:["\n",(0,r.jsxs)(n.thead,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.th,{children:"Field Name"}),"\n",(0,r.jsx)(n.th,{children:"Location"}),"\n",(0,r.jsx)(n.th,{children:"Key Name"}),"\n",(0,r.jsx)(n.th,{children:"Required"}),"\n",(0,r.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.tbody,{children:["\n",(0,r.jsxs)(n.tr,{children:["\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"currentUpdateId"})}),"\n",(0,r.jsx)(n.td,{children:"Header"}),"\n",(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expo-current-update-id"})}),"\n",(0,r.jsx)(n.td,{children:"✅"}),"\n",(0,r.jsx)(n.td,{children:"Currently running update ID"}),"\n"]}),"\n"]}),"\n"]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}let c=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["guide%2F2.next%2F3.api%2Findex.md"]={toc:[{text:"`/api/updates/manifest`",id:"apiupdatesmanifest",depth:2},{text:"\uD83D\uDCE5 Request Fields Summary",id:"-request-fields-summary",depth:2},{text:"\uD83E\uDDEA Processing Priority",id:"-processing-priority",depth:2},{text:"\uD83D\uDCE6 Example Request",id:"-example-request",depth:2},{text:"`/api/updates/status`",id:"apiupdatesstatus",depth:2},{text:"\uD83D\uDCE5 Request Fields Summary",id:"-request-fields-summary-1",depth:2}],title:"Api",headingTitle:"Api",frontmatter:{}}}}]);