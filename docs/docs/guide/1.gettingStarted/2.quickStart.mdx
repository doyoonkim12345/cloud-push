# Quick Start


Start using `cloud-push` in two parts: the **server** and the **expo client**.

## ğŸ“¡ Server Setup

### 1ï¸âƒ£ Create server project

```bash
pnpm create next-app --yes
```
### 2ï¸âƒ£ Install the packages

```bash
pnpm add @cloud-push/next @cloud-push/cloud @cloud-push/core @tanstack/react-query semver @types/semver
```

### 3ï¸âƒ£ Initialize server apis

```bash
pnpm cloud-push init
```

### 4ï¸âƒ£ Deploy server

Deploy it to [Vercel](https://vercel.com)


## ğŸ“± Expo Client Setup


> **Recommended:** Use **Node.js v18+** and **Expo SDK 52+** for best compatibility.



### 1ï¸âƒ£ Install the packages

```bash
pnpm add @cloud-push/expo @cloud-push/cloud
```

### 2ï¸âƒ£ Initialize config

```bash
pnpm cloud-push init
```

### 3ï¸âƒ£ Modify your `app.json` or `app.config.ts`

If you're **not using EAS Build**, set the update URL and headers manually:

```diff
  updates: {
-    url: "https://u.expo.dev/"
+    url: "https://your-server-domain/api/manifest",
+    requestHeaders: {
+      "expo-channel-name": process.env.APP_VARIANT,
+    },
  },
````

<details>
  <summary>ğŸ› ï¸ If you're using EAS Build</summary>

You don't need to manually set `requestHeaders`. Instead, configure the channel in `eas.json`:

```json
{
  "build": {
    "production": {
      "channel": "stable"
    },
    "preview": {
      "channel": "beta"
    }
  }
}
```

> In this example, builds triggered with the `--profile preview` option will use the `beta` channel, while `--profile production` uses `stable`.

</details>
```

### 4ï¸âƒ£ Provide environment variables

Set variables in `.env` or use **EAS Secrets**:

```env
SUPABASE_URL=...
SUPABASE_KEY=...
SUPABASE_BUCKET_NAME=...
```

> âœ… Provide appropriate values for AWS, Supabase, or Firebase depending on your storage backend.

### 5ï¸âƒ£ Deploy the update

```bash
pnpm cloud-push deploy
```

> ğŸ’¡ OTA updates will only apply to builds with the same `runtimeVersion`

<details>


<summary>ğŸ”§ ë¡œì»¬ í™˜ê²½ í…ŒìŠ¤íŠ¸ ì£¼ì˜ì‚¬í•­</summary>

## âš ï¸ Android Cleartext Warning

Androidì—ì„œ HTTP ìš”ì²­ì„ í—ˆìš©í•˜ë ¤ë©´ `usesCleartextTraffic`ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

```ts
export default {
  expo: {
    name: "your-app-name",
    slug: "your-app-slug",
    plugins: [
      [
        "expo-build-properties",
        {
          android: {
            usesCleartextTraffic: true,
          },
          ios: {},
        },
      ],
    ],
  },
};
```
</details> 