# ExpoUpdates

cloud-pushëŠ” [`expo-updates`](https://docs.expo.dev/technical-specs/expo-updates-1/)ì™€ **í˜¸í™˜ë˜ë©°**, ì•„ë˜ ì„¤ì •ë“¤ì„ ì§€ì›í•©ë‹ˆë‹¤.

## install

```bash
pnpm expo install expo-updates
```

## ğŸ“˜ Expo Updates SDK Compatibility

### ğŸ§± Constants

| Constant                      | Supported |
|------------------------------|-----------|
| `Updates.channel`            | âœ…        |
| `Updates.checkAutomatically` | âœ…        |
| `Updates.createdAt`          | âœ…        |
| `Updates.emergencyLaunchReason` | â³    |
| `Updates.isEmbeddedLaunch`   | âœ…        |
| `Updates.isEmergencyLaunch`  | â³        |
| `Updates.isEnabled`          | âœ…        |
| `Updates.latestContext`      | âœ…        |
| `Updates.launchDuration`     | âœ…        |
| `Updates.manifest`           | âœ…        |
| `Updates.runtimeVersion`     | âœ…        |
| `Updates.updateId`           | âœ…        |

### ğŸ§© Hooks

| Hook           | Supported |
|----------------|-----------|
| `useUpdates()` | âœ…        |

### ğŸ›  Methods

| Method                  | Supported |
|-------------------------|-----------|
| `checkForUpdateAsync()` | âœ…        |
| `clearLogEntriesAsync()`| âœ…        |
| `fetchUpdateAsync()`    | âœ…        |
| `getExtraParamsAsync()` | âŒ        |
| `readLogEntriesAsync()` | âœ…        |
| `reloadAsync()`         | âœ…        |
| `setExtraParamAsync()`  | âŒ        |

---



## app.json / app.config.ts

expoì˜ [`app.json  or app.config.tsì˜ updates`](https://docs.expo.dev/versions/latest/config/app/#updates)ì—ì„œ ëŒ€ë¶€ë¶„ì˜ ì˜µì…˜ì„ ì§€ì›í•©ë‹ˆë‹¤. 

### âœ… ì •ìƒ ì‘ë™í•˜ëŠ” ì„¤ì •

| ì˜µì…˜                     | ì„¤ëª… |
|--------------------------|------|
| `enabled`                | ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ í™œì„±í™” ì—¬ë¶€ |
| `checkAutomatically`     | ì•± ì‹œì‘ ì‹œ ì—…ë°ì´íŠ¸ ì²´í¬ ë°©ì‹ |
| `useEmbeddedUpdate`      | ë‚´ì¥ëœ ì—…ë°ì´íŠ¸ ì‚¬ìš© ì—¬ë¶€ |
| `fallbackToCacheTimeout` | ì—…ë°ì´íŠ¸ ì‘ë‹µ ëŒ€ê¸° ì‹œê°„ (ms) |
| `url`                    | ì—…ë°ì´íŠ¸ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì˜ ì›ê²© URL |
| `requestHeaders`         | ìš”ì²­ ì‹œ í¬í•¨í•  ì»¤ìŠ¤í…€ í—¤ë” |
  
ì´ ì„¤ì •ë“¤ì€ Expo SDKì—ì„œ **ì •ìƒì ìœ¼ë¡œ ì‘ë™**í•˜ë©°, JS ë° ë„¤ì´í‹°ë¸Œ ë¹Œë“œì—ì„œ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘ì„ ë³´ì¥í•©ë‹ˆë‹¤.

---

### âš ï¸ ë¯¸ì§€ì› ë˜ëŠ” ë¶ˆí™•ì‹¤í•œ ì„¤ì •

| ì˜µì…˜                        | ì§€ì› ì—¬ë¶€ | ì„¤ëª… |
|-----------------------------|-----------|------|
| `codeSigningCertificate`    | âŒ ë¯¸ì§€ì› | ì•„ì§ SDKì—ì„œ ì½”ë“œ ì„œëª… ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. |
| `codeSigningMetadata`       | âŒ ë¯¸ì§€ì› | ìœ„ì™€ ë™ì¼í•˜ê²Œ ë¬´ì‹œë©ë‹ˆë‹¤. |
| `assetPatternsToBeBundled`  | âš ï¸ í™•ì¸ë˜ì§€ ì•ŠìŒ | ì¼ë¶€ í™˜ê²½ì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. |
| `disableAntiBrickingMeasures` | âš ï¸ í™•ì¸ë˜ì§€ ì•ŠìŒ | ì„¤ì • ê°€ëŠ¥í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì ìš©ë˜ëŠ”ì§€ëŠ” ëª…í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. |

> â—ï¸ **ì£¼ì˜:** `disableAntiBrickingMeasures`ëŠ” ì•±ì„ ë¶€íŒ… ë¶ˆëŠ¥ ìƒíƒœë¡œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ **í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”**.

---

If you're **not using EAS Build**, set the update URL and headers manually:

```diff
  updates: {
-    url: "https://u.expo.dev/"
+    url: "https://your-server-domain/api/manifest",
+    requestHeaders: {
+      "expo-channel-name": process.env.APP_VARIANT,
+    },
  },
````

<details>
  <summary>ğŸ› ï¸ If you're using EAS Build</summary>

You don't need to manually set `requestHeaders`. Instead, configure the channel in `eas.json`:

```json
{
  "build": {
    "production": {
      "channel": "stable"
    },
    "preview": {
      "channel": "beta"
    }
  }
}
```

> In this example, builds triggered with the `--profile preview` option will use the `beta` channel, while `--profile production` uses `stable`.

</details>

---

### ì˜ˆì‹œ ì„¤ì •

```ts
updates: {
  enabled: true,
  checkAutomatically: 'ON_LOAD',
  fallbackToCacheTimeout: 10000,
  useEmbeddedUpdate: true,
  url: 'https://my-updates.example.com',
  requestHeaders: {
    'x-custom-header': 'value',
  },
}
```

